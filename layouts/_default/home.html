{{ define "main" }}
<div class="home shell--narrow">
  {{/* Intro */}}
  <section class="home-intro">
    <p class="home-intro__greeting">Hey, I'm</p>
    <h1 class="home-intro__name">{{ .Site.Title }}</h1>
    <p class="home-intro__bio">{{ .Site.Params.bio }}</p>
  </section>

  {{/* About */}}
  <section class="home-about">
    <div class="home-about__item">
      <span class="label">Status</span>
      <span class="home-about__value">{{ .Site.Params.status }}</span>
    </div>
    <div class="home-about__item">
      <span class="label">Focus</span>
      <span class="home-about__value">{{ .Site.Params.focus | default "Systems programming, infrastructure" }}</span>
    </div>
    <div class="home-about__item">
      <span class="label">Location</span>
      <span class="home-about__value">{{ .Site.Params.location | default "Remote" }}</span>
    </div>
  </section>
  {{/* Connect */}}
  <section class="home-connect">
    <h2 class="label">Connect</h2>
    <div class="home-connect__links">
      {{ range .Site.Params.media }}
      <a href="{{ .url }}" class="home-connect__link" target="_blank" rel="noopener">
        {{- partial "svg" .icon -}}
        <span>{{ .label }}</span>
      </a>
      {{ end }}
      <a href="/contact/" class="home-connect__link home-connect__link--contact">Contact →</a>
    </div>
  </section>

  {{/* Recent Posts */}}
  {{ $posts := where .Site.RegularPages "Section" "blog" }}
  {{ with $posts | first 5 }}
  <section class="home-posts">
    <h2 class="label">Recent posts</h2>
    <ul class="home-posts__list">
      {{ range . }}
      <li class="home-posts__item">
        <a href="{{ .RelPermalink }}" class="home-posts__link">
          <span class="home-posts__link-title">{{ .Title }}</span>
          <time class="home-posts__link-date" datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "Jan 2006" }}</time>
        </a>
      </li>
      {{ end }}
    </ul>
    <a href="/blog/" class="home-posts__more">All posts →</a>
  </section>
  {{ end }}
</div>
{{ end }}
